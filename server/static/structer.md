# é€Ÿåº¦ç›‘æµ‹ç³»ç»Ÿ - æ¨¡å—åŒ–é¡¹ç›®ç»“æ„

## ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„

```
static/
â”œâ”€â”€ index.html                          # ä¸»é¡µé¢æ–‡ä»¶
â”œâ”€â”€ css/
â”‚   â””â”€â”€ styles.css                       # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ main.js                          # ä¸»å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ modules/                         # æ¨¡å—ç›®å½•
â”‚       â”œâ”€â”€ websocketManager.js          # WebSocketè¿æ¥ç®¡ç†
â”‚       â”œâ”€â”€ settingsManager.js           # è®¾ç½®ç®¡ç†
â”‚       â”œâ”€â”€ dataProcessor.js             # æ•°æ®å¤„ç†
â”‚       â”œâ”€â”€ uiManager.js                 # UIç•Œé¢ç®¡ç†
â”‚       â”œâ”€â”€ chartManager.js              # å›¾è¡¨ç®¡ç†
â”‚       â””â”€â”€ debugManager.js              # è°ƒè¯•ä¿¡æ¯ç®¡ç†
â””â”€â”€ structer.md                            # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ¨¡å—åŒ–åŸåˆ™
- **å•ä¸€èŒè´£**: æ¯ä¸ªæ¨¡å—åªè´Ÿè´£ä¸€ä¸ªç‰¹å®šçš„åŠŸèƒ½åŸŸ
- **æ¾è€¦åˆ**: æ¨¡å—é—´é€šè¿‡å®šä¹‰å¥½çš„æ¥å£è¿›è¡Œé€šä¿¡
- **é«˜å†…èš**: ç›¸å…³åŠŸèƒ½é›†ä¸­åœ¨åŒä¸€æ¨¡å—å†…
- **å¯æ‰©å±•**: æ˜“äºæ·»åŠ æ–°åŠŸèƒ½å’Œæ¨¡å—

### ä¾èµ–å…³ç³»å›¾
```
main.js (åº”ç”¨å…¥å£)
â”œâ”€â”€ WebSocketManager (WebSocketè¿æ¥)
â”œâ”€â”€ SettingsManager (è®¾ç½®ç®¡ç†)
â”œâ”€â”€ DataProcessor (æ•°æ®å¤„ç†) 
â”‚   â”œâ”€â”€ ä¾èµ–: SettingsManager
â”‚   â”œâ”€â”€ ä¾èµ–: UIManager  
â”‚   â””â”€â”€ ä¾èµ–: DebugManager
â”œâ”€â”€ UIManager (ç•Œé¢ç®¡ç†)
â”œâ”€â”€ ChartManager (å›¾è¡¨ç®¡ç†)
â””â”€â”€ DebugManager (è°ƒè¯•ç®¡ç†)
```

## ğŸ“‹ æ¨¡å—è¯¦ç»†è¯´æ˜

### 1. ä¸»å…¥å£æ¨¡å— (main.js)
**èŒè´£**: åº”ç”¨ç¨‹åºçš„å¯åŠ¨å’Œæ¨¡å—é—´åè°ƒ
- åˆå§‹åŒ–æ‰€æœ‰ç®¡ç†å™¨
- ç»‘å®šå…¨å±€äº‹ä»¶ç›‘å¬å™¨
- å¤„ç†æ¨¡å—é—´é€šä¿¡
- ç®¡ç†åº”ç”¨ç”Ÿå‘½å‘¨æœŸ

**ä¸»è¦åŠŸèƒ½**:
```javascript
class SpeedMonitorApp {
    initializeManagers()     // åˆå§‹åŒ–å„ä¸ªç®¡ç†å™¨
    bindEvents()            // ç»‘å®šäº‹ä»¶ç›‘å¬å™¨
    initializeApp()         // åˆå§‹åŒ–åº”ç”¨ç¨‹åº
    cleanup()               // æ¸…ç†èµ„æº
}
```

### 2. WebSocketç®¡ç†å™¨ (websocketManager.js)
**èŒè´£**: å¤„ç†æ‰€æœ‰WebSocketç›¸å…³æ“ä½œ
- å»ºç«‹å’Œç»´æŠ¤WebSocketè¿æ¥
- è‡ªåŠ¨é‡è¿æœºåˆ¶
- æ¶ˆæ¯å‘é€å’Œæ¥æ”¶
- è¿æ¥çŠ¶æ€ç®¡ç†

**ä¸»è¦åŠŸèƒ½**:
```javascript
class WebSocketManager {
    startConnection()       // å¯åŠ¨è¿æ¥
    stopConnection()        // åœæ­¢è¿æ¥
    connectWebSocket()      // å»ºç«‹è¿æ¥
    handleMessage()         // å¤„ç†æ¶ˆæ¯
    scheduleReconnect()     // è®¡åˆ’é‡è¿
}
```

### 3. è®¾ç½®ç®¡ç†å™¨ (settingsManager.js)
**èŒè´£**: ç®¡ç†åº”ç”¨ç¨‹åºé…ç½®å’Œç”¨æˆ·åå¥½
- åŠ è½½å’Œä¿å­˜è®¾ç½®
- è®¾ç½®ç•Œé¢ç®¡ç†
- é…ç½®å˜æ›´é€šçŸ¥
- å¯¼å…¥å¯¼å‡ºè®¾ç½®

**ä¸»è¦åŠŸèƒ½**:
```javascript
class SettingsManager {
    loadSettings()          // åŠ è½½è®¾ç½®
    saveSettings()          // ä¿å­˜è®¾ç½®  
    updateSetting()         // æ›´æ–°è®¾ç½®
    onSettingChange()       // è®¾ç½®å˜æ›´å›è°ƒ
    exportSettings()        // å¯¼å‡ºè®¾ç½®
}
```

### 4. æ•°æ®å¤„ç†å™¨ (dataProcessor.js)
**èŒè´£**: å¤„ç†é€Ÿåº¦æ•°æ®çš„è®¡ç®—å’Œç»Ÿè®¡
- åœˆé€Ÿæ•°æ®å¤„ç†
- é€Ÿåº¦è®¡ç®—
- ç»Ÿè®¡ä¿¡æ¯ç”Ÿæˆ
- æ•°æ®éªŒè¯å’Œè¿‡æ»¤

**ä¸»è¦åŠŸèƒ½**:
```javascript
class DataProcessor {
    processData()           // å¤„ç†æ•°æ®
    calculateVelocity()     // è®¡ç®—é€Ÿåº¦
    getRecentLapsStats()    // è·å–ç»Ÿè®¡
    resetLapData()          // é‡ç½®æ•°æ®
    exportData()            // å¯¼å‡ºæ•°æ®
}
```

### 5. UIç®¡ç†å™¨ (uiManager.js)
**èŒè´£**: ç®¡ç†ç”¨æˆ·ç•Œé¢çš„æ›´æ–°å’Œäº¤äº’
- DOMå…ƒç´ æ›´æ–°
- çŠ¶æ€æ˜¾ç¤ºç®¡ç†
- æ¶ˆæ¯æç¤º
- ç•Œé¢çŠ¶æ€æ§åˆ¶

**ä¸»è¦åŠŸèƒ½**:
```javascript
class UIManager {
    updateStatus()          // æ›´æ–°çŠ¶æ€
    updateLapInfo()         // æ›´æ–°åœˆæ•°ä¿¡æ¯
    showMessage()           // æ˜¾ç¤ºæ¶ˆæ¯
    updateControlButtons()  // æ›´æ–°æŒ‰é’®çŠ¶æ€
    toggleElement()         // åˆ‡æ¢å…ƒç´ æ˜¾ç¤º
}
```

### 6. å›¾è¡¨ç®¡ç†å™¨ (chartManager.js)
**èŒè´£**: ç®¡ç†Chart.jså›¾è¡¨çš„æ˜¾ç¤ºå’Œæ›´æ–°
- å›¾è¡¨åˆå§‹åŒ–
- æ•°æ®å¯è§†åŒ–
- å›¾è¡¨ä¸»é¢˜ç®¡ç†
- å›¾è¡¨å¯¼å‡ºåŠŸèƒ½

**ä¸»è¦åŠŸèƒ½**:
```javascript
class ChartManager {
    initialize()            // åˆå§‹åŒ–å›¾è¡¨
    updateChart()           // æ›´æ–°å›¾è¡¨æ•°æ®
    clearChart()            // æ¸…ç©ºå›¾è¡¨
    exportChart()           // å¯¼å‡ºå›¾è¡¨
    updateTheme()           // æ›´æ–°ä¸»é¢˜
}
```

### 7. è°ƒè¯•ç®¡ç†å™¨ (debugManager.js)
**èŒè´£**: ç®¡ç†è°ƒè¯•ä¿¡æ¯çš„è®°å½•å’Œæ˜¾ç¤º
- è°ƒè¯•ä¿¡æ¯è®°å½•
- æ—¥å¿—çº§åˆ«ç®¡ç†
- è°ƒè¯•é¢æ¿æ˜¾ç¤º
- æ—¥å¿—å¯¼å‡ºåŠŸèƒ½

**ä¸»è¦åŠŸèƒ½**:
```javascript
class DebugManager {
    addDebugInfo()          // æ·»åŠ è°ƒè¯•ä¿¡æ¯
    setLogLevel()           // è®¾ç½®æ—¥å¿—çº§åˆ«
    exportLogs()            // å¯¼å‡ºæ—¥å¿—
    clearDebugInfo()        // æ¸…ç©ºè°ƒè¯•ä¿¡æ¯
    getStats()              // è·å–ç»Ÿè®¡
}
```

## ğŸ”„ æ•°æ®æµ

### æ•°æ®å¤„ç†æµç¨‹
```
WebSocketæ¥æ”¶æ•°æ® â†’ DataProcessorå¤„ç† â†’ UIManageræ›´æ–°ç•Œé¢
                                     â†“
                               ChartManageræ›´æ–°å›¾è¡¨
                                     â†“
                               DebugManagerè®°å½•æ—¥å¿—
```

### è®¾ç½®ç®¡ç†æµç¨‹
```
ç”¨æˆ·ä¿®æ”¹è®¾ç½® â†’ SettingsManagerå¤„ç† â†’ é€šçŸ¥ç›¸å…³æ¨¡å— â†’ æ›´æ–°åº”ç”¨è¡Œä¸º
```

### äº‹ä»¶é€šä¿¡æµç¨‹
```
æ¨¡å—Aè§¦å‘äº‹ä»¶ â†’ äº‹ä»¶ç³»ç»Ÿ â†’ æ¨¡å—Bæ¥æ”¶äº‹ä»¶ â†’ æ‰§è¡Œç›¸åº”æ“ä½œ
```

## ğŸš€ ä½¿ç”¨æ–¹å¼

### åŸºæœ¬éƒ¨ç½²
1. å°†æ‰€æœ‰æ–‡ä»¶æŒ‰ç›®å½•ç»“æ„æ”¾ç½®åˆ°WebæœåŠ¡å™¨
2. ç¡®ä¿WebSocketæœåŠ¡è¿è¡Œåœ¨ `ws://127.0.0.1:8080`
3. è®¿é—® `index.html` å¯åŠ¨åº”ç”¨

### å¼€å‘æ¨¡å¼
```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°å¯è®¿é—®åº”ç”¨å®ä¾‹
window.speedMonitorApp.getVersion()
window.speedMonitorApp.debugManager.setLogLevel('debug')
```

### è‡ªå®šä¹‰é…ç½®
é€šè¿‡è®¾ç½®ç®¡ç†å™¨å¯ä»¥è°ƒæ•´ï¼š
- ç›®æ ‡åœˆæ•°
- æ˜¾ç¤ºé™åˆ¶
- è°ƒè¯•é€‰é¡¹
- ç•Œé¢ä¸»é¢˜

## ğŸ“ˆ æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°æ¨¡å—
1. åœ¨ `js/modules/` ç›®å½•åˆ›å»ºæ–°æ¨¡å—æ–‡ä»¶
2. å®ç°æ¨¡å—ç±»å¹¶å¯¼å‡º
3. åœ¨ `main.js` ä¸­å¯¼å…¥å’Œåˆå§‹åŒ–
4. æ·»åŠ å¿…è¦çš„äº‹ä»¶ç›‘å¬å’Œé€šä¿¡

### æ¨¡å—æ¥å£è§„èŒƒ
```javascript
export class NewManager {
    constructor(dependencies) {
        // åˆå§‹åŒ–ä¾èµ–
    }
    
    initialize() {
        // æ¨¡å—åˆå§‹åŒ–é€»è¾‘
    }
    
    cleanup() {
        // èµ„æºæ¸…ç†é€»è¾‘
    }
}
```

### äº‹ä»¶é€šä¿¡
ä½¿ç”¨å‘å¸ƒ-è®¢é˜…æ¨¡å¼è¿›è¡Œæ¨¡å—é—´é€šä¿¡ï¼š
```javascript
// å‘å¸ƒäº‹ä»¶
this.triggerEvent('eventName', data);

// è®¢é˜…äº‹ä»¶  
this.on('eventName', callback);
```

## ğŸ› ï¸ ç»´æŠ¤å»ºè®®

### ä»£ç è´¨é‡
- ä¿æŒæ¨¡å—çš„å•ä¸€èŒè´£
- æ·»åŠ é€‚å½“çš„é”™è¯¯å¤„ç†
- ç¼–å†™æ¸…æ™°çš„æ³¨é‡Šå’Œæ–‡æ¡£
- å®šæœŸé‡æ„å’Œä¼˜åŒ–ä»£ç 

### æ€§èƒ½ä¼˜åŒ–
- é™åˆ¶æ•°æ®å­˜å‚¨é‡
- ä½¿ç”¨èŠ‚æµå’Œé˜²æŠ–
- ä¼˜åŒ–DOMæ“ä½œ
- ç›‘æ§å†…å­˜ä½¿ç”¨

### æµ‹è¯•ç­–ç•¥
- å•å…ƒæµ‹è¯•æ¯ä¸ªæ¨¡å—
- é›†æˆæµ‹è¯•æ¨¡å—é—´äº¤äº’
- ç«¯åˆ°ç«¯æµ‹è¯•å®Œæ•´æµç¨‹
- æ€§èƒ½æµ‹è¯•å…³é”®è·¯å¾„

## ğŸ“Š æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: åŸç”ŸJavaScript (ES6+)
- **å›¾è¡¨åº“**: Chart.js
- **æ ·å¼**: CSS3 + Flexbox/Grid
- **æ¨¡å—ç³»ç»Ÿ**: ES6 Modules
- **é€šä¿¡åè®®**: WebSocket
- **æ•°æ®å­˜å‚¨**: LocalStorage

## ğŸ”§ å·¥å…·æ”¯æŒ

### å¼€å‘å·¥å…·
- ç°ä»£æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·
- VS Code ç­‰ç¼–è¾‘å™¨
- Live Server ç­‰æœ¬åœ°æœåŠ¡å™¨

### è°ƒè¯•åŠŸèƒ½
- å†…ç½®è°ƒè¯•é¢æ¿
- æ§åˆ¶å°æ—¥å¿—è¾“å‡º
- æ€§èƒ½ç›‘æ§
- é”™è¯¯è¿½è¸ª

---

*è¯¥é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–æ¶æ„è®¾è®¡ï¼Œä¾¿äºç»´æŠ¤ã€æ‰©å±•å’Œå›¢é˜Ÿåä½œå¼€å‘ã€‚*